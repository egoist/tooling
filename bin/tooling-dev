#!/usr/bin/env node
const meow = require('meow')
const chalk = require('chalk')
const handleError = require('../lib/handle-error')

const cli = meow({
  description: false,
  help: `
  Run tooling in development mode

  ${chalk.bold('Options:')}

    ${chalk.yellow('--port [port]')}       ${chalk.dim('Server port')}
    ${chalk.yellow('--dist [folder]')}     ${chalk.dim('Directory for output files')}
    ${chalk.yellow('--proxy [url]')}       ${chalk.dim('Proxy API request')}
\t`
}, {
  alias: {
    h: 'help'
  }
})

const options = Object.assign({
  entry: cli.input[0],
  mode: 'dev'
}, cli.flags)

try {
  require('../lib')(options)
} catch (err) {
  handleError(err)
}
